#   _    _ _____      _                    _                
#  | |  | |_   _|    | |                  | |               
#  | |  | | | |______| |     _____   _____| | __ _  ___ ___ 
#  | |  | | | |______| |    / _ \ \ / / _ \ |/ _` |/ __/ _ \ 
#  | |__| |_| |_     | |___| (_) \ V /  __/ | (_| | (_|  __/
#   \____/|_____|    |______\___/ \_/ \___|_|\__,_|\___\___|   
     
###########################################################################################################################                           
# Resources                                                                                                                                            
###########################################################################################################################                           
#resources:                          
 # !include lovelace/gerais/resources.yaml                       
                                                                                 
popup_cards:                   
  !include lovelace/popup-cards/principal-popup.yaml                                    
                                                   
                                                                                       
###########################################################################################################################                           
# Decluttering Templates - https://github.com/custom-cards/decluttering-card   
###########################################################################################################################                           
#decluttering_templates:
#  !include lovelace/gerais/decluttering_templates.yaml        
         
title: Valsesia Home                                                 
background: center / cover url("/local/imgs/bg/blue.jpg")                      
             
anchors:                      
  ⚓₁: &title                            
    entity: sensor.placeholder                        
    tap_action:                  
      action: none      
    hold_action:              
      action: none         
    type: state-label    
  ⚓₂: &title-style
    color: '#bcbebf'     
    font-family: SF Text   
    font-size: 55px   
    font-weight: 500  
    max-width: 1px
    cursor: default      
    
### template dos botoes de iluminação     
button_card_templates:
  light_button: 
    hold_action:
      action: more-info
    label: >
      [[[ var bri = Math.round(entity.attributes.brightness / 2.55);  if
      (entity.state === 'on') return (bri ? (bri+"%") : '') ]]]
    layout: icon_label
    show_label: true 
    show_name: true
    show_state: true
    state:
      - styles:
          card:   
            - filter: opacity(40%) 
            - color: '#5D4037'
        value: unavailable
      - styles:
          card: 
            - filter: opacity(85%)
          state:
            - color: '#616161' 
        value: 'off'
      - styles:
          card:
            - box-shadow: '0px 0px 10px 3px #F9C536'
          icon:
            - color: '#F9C536' 
          state: 
            - color: var(--secondary-text-color)
        value: 'on'
    styles:
      card:
#        - width: 140px
        - height: 85px
        - border-radius: 15px
        - margin: 5px 5% 5px 5%  
#        - margin: 5px 5px
        - padding: 5px 0px 
        - '--paper-card-background-color': 'rgba(60, 60, 60, 0.6)'
      state:
        - font-size: 11px
    #   grid:
    #     - grid-template-rows: 42px auto 0px
    #     - grid-template-columns: 42px auto
      icon:
        - width: 30px
        - color: white
      label: 
        - font-size: 12px
        - font-weight: bold
        - color: white
      name:
        #- justify-self: start
        #- align-self: end  
        #- padding: 10px 10px
        - font-size: 14px
        - font-weight: bold
        - color: white
    tap_action:
      action: toggle 
   
  light:
    aspect_ratio: 1/1    
    show_state: true
    show_icon: false
    state: &button_state
      - value: 'on'   
        styles:
          card: [background-color: 'rgba(255, 255, 255, 0.8)']
          name: [color: 'rgba(0, 0, 0, 0.6)'] 
          state: [color: var(--secondary-text-color)]
      - value: 'playing'                       
        styles:
          card: [background-color: 'rgba(255, 255, 255, 0.8)']
          name: [color: 'rgba(0, 0, 0, 0.6)']
          state: [color: var(--secondary-text-color)] 
    custom_fields:        
      info: >             
        [[[ if (entity.state === 'on' && entity.attributes.brightness) {
        const brightness = Math.round(entity.attributes.brightness / 2.54);
        const radius = 20.5; const circumference = radius * 2 * Math.PI; 
        return `<svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="${radius}" stroke="#b2b2b2" stroke-width="1.5" fill="none" style="
        transform: rotate(-90deg); transform-origin: 50% 50%; stroke-dasharray: ${circumference}; stroke-dashoffset: ${circumference - brightness / 100 * circumference};" />
        <text x="50%" y="54%" fill="#8d8e90" font-size="14" text-anchor="middle" alignment-baseline="middle">${brightness}<tspan font-size="10">%</tspan></text></svg>`; } ]]]
    styles:   
      name: &button_styles_name         
        [top: 50%, left: 11%, position: absolute, line-height: 46px, font-weight: 700]     
      state: &button_styles_state
        [font-size: 11px, top: 65%, left: 11%, position: absolute, line-height: 46px, color: var(--secondary-text-color)]  
      custom_fields:  
        info: &circle_pos                            
          [top: 8%, right: 5%, width: 50px, position: absolute, letter-spacing: 0.7px]
      card: &button_styles_card  
        [font-family: Sf Display, letter-spacing: 1.15px, text-rendering: optimizeLegibility, font-weight: 600, color: 'rgba(255, 255, 255, 0.3)', font-size: 15px, 
        background-color: 'rgba(115, 115, 115, 0.2)', border-radius: 18px, box-shadow: none, transition: none, margin: 5px 5px] 
    tap_action:             
    #   ui_sound: &ui_sound |
    #     [[[ if (entity.state === 'off' && states['switch.fullykiosk_screensaver'].state === 'off') {
    #     hass.callService('media_player', 'play_media', {entity_id: 'media_player.iphone_cadu', media_content_id: '/local/sound/on.m4a', media_content_type: 'music'}); }
    #     else if (entity.state === 'on' && states['switch.fullykiosk_screensaver'].state === 'off') {
    #     hass.callService('media_player', 'play_media', {entity_id: 'media_player.iphone_cadu', media_content_id: '/local/sound/off.m4a', media_content_type: 'music'}); } ]]]
      action: toggle
      haptic: light 
    hold_action:   
      action: fire-dom-event
      browser_mod:
        command: call-service
        service: browser_mod.popup
        service_data:

      #action: call-service
      #service: browser_mod.popup 
      #service_data: 
            title: Fechar  
            deviceID: this      
            style: 
              --ha-card-border-radius: 1em 
              --more-info-header-color: rgba(255,255,255,0.6)
              background: none
              box-shadow: none
            card:
              type: vertical-stack
              cards:
                - type: entities
                  title: '[[[ return entity.attributes.friendly_name ]]]'
                  style: &popup_style |
                    ha-card {
                      animation: pop-in 0.8s cubic-bezier(0.16, 1, 0.3, 1) both; transform-origin: center;
                      box-shadow: none; border-radius: 1em; padding: 0.3em 1.25em 0.4em 0.5em; 
                      background: linear-gradient(180deg, rgba(48,52,52,1) 0%, rgba(48,52,52,1) 4.8em, rgba(34,38,39,1) 4.8em, rgba(34,38,39,1) 100%); }
                    .card-header {
                      margin: -0.4em 0 1.4em 0.4em; font-family: sf text; letter-spacing: 0.005em; font-size: 1.5em;}
                    @keyframes pop-in {
                      0% { transform: scale(0.6); opacity: 0; } 20% { opacity: 0; } 100% { transform: scale(1); opacity: 0.9; }}
                  show_header_toggle: false
                  entities:    
                    - type: custom:light-popup-card
                      entity: '[[[ return entity.entity_id ]]]'
                      icon: none
                      fullscreen: false
                      brightnessWidth: 130px
                      brightnessHeight: 360px
                      borderRadius: 1.7em
                      sliderColor: '#c7c7c7'
                      sliderTrackColor: rgba(25, 25, 25, 0.9)
                      actionSize: 4.5em
                      actionsInARow: 2
                      style: |
                        #popup { 
                          margin: -2.4em 0 1.4em 0; }
                        #popup > div.range-holder > input[type=range] {
                          cursor: grab; }
                        #brightnessValue {
                          color: rgba(255, 255, 255, 0.8); margin: -1em 0 0 0; font-size: 2em; font-weight: 400; 
                          position: absolute; z-index: 100; font-family: SF Display; letter-spacing: 0.02em; pointer-events: none; 
                          mix-blend-mode: difference; text-align:center; width: 3.4em; height: 3.4em; }
                        #popup > div.range-holder > input[type=range]::-webkit-slider-thumb {
                          border: 0; eight: 0; width: 0; cursor: grabbing; }
                        #popup > div.action-holder > div > div {
                          margin: 0.8em 0.5em -0.8em 0.5em; }
                        #popup > div.action-holder > div:nth-child(2) > div:nth-child(2) > span {
                          background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 80%), 
                          conic-gradient(rgb(120,39,230), rgb(230,34,231), rgb(228,5,136), rgb(228,25,25), rgb(229,105,30), rgb(232,226,46), 
                          rgb(125,230,41), rgb(52,232,40), rgb(51,231,92), rgb(52,232,224),rgb(32,125,229), rgb(18,39,229), rgb(120,39,230));
                          border-width: 2px; border-color: #e6e6e6; --size: 4.4em !important; }
                      actions:
                        - service: light.turn_on
                          service_data:
                            entity_id: '[[[ return entity.entity_id ]]]'
                            color_temp: 153 
                          color: "#d8d9e1"
                        - service: light.turn_on
                          service_data:
                            entity_id: '[[[ return entity.entity_id ]]]'
                            color_temp: 326
                          color: "#d5b08d"
                        - service: light.turn_on
                          service_data:
                            entity_id: '[[[ return entity.entity_id ]]]'
                            color_temp: 500
                          color: "#ce944b"
                        - service: browser_mod.popup
                          service_data:
                            title: Fechar
                            deviceID: this
                            style:
                              --ha-card-border-radius: 1em
                              --more-info-header-color: rgba(255,255,255,0.6)
                              background: none
                              box-shadow: none 
                            card:
                              type: entities
                              title: Configurações de cores
                              style: *popup_style
                              show_header_toggle: false
                              entities:
                                - entity: '[[[ return entity.entity_id ]]]'
                                  secondary_info: last-changed
                                - type: custom:light-entity-card
                                  entity: '[[[ return entity.entity_id ]]]'
                                  style:
                                    .: |
                                      ha-card {
                                        background: none; box-shadow: none; margin: -0.5em -1em -0.5em -0.7em; }
                                      ha-card > div.light-entity-card-sliders.ha-slider-full-width { 
                                        margin-bottom: 0.75em; }
                                      ha-card > div.light-entity-card-sliders.ha-slider-full-width > div > ha-icon {
                                        margin: auto; width: 34px; height: 34px; cursor: default; 
                                        padding-right: 0.49em; color: var(--paper-item-icon-color);}
                                      ha-card > div.light-entity-card-sliders.ha-slider-full-width > div > div {
                                        margin: auto; padding: 0 1.4em 0 1em; max-width: 1em; cursor: default;}
                                    'ha-card > div.light-entity-card-sliders.ha-slider-full-width > div > ha-slider':
                                      $: |
                                        #sliderContainer { 
                                          --calculated-paper-slider-height: var(--paper-slider-height, 5px); }
                                  brightness: false
                                  color_temp: true
                                  full_width_sliders: true
                                  hide_header: true
                                  show_slider_percent: true
                                  smooth_color_wheel: true

  switch:               
    aspect_ratio: 1/1    
    show_state: true
    show_icon: false
    state: *button_state
    styles:
      name: *button_styles_name
      state: *button_styles_state 
      card: *button_styles_card
      custom_fields:
        loading:  
          [filter: "[[[ return entity.state === 'off' ? 'invert(1)' : 'none'; ]]]", 
           top: 3%, left: 60%, width: 85px, position: absolute, opacity: 0.6]
    tap_action:
    #   ui_sound: *ui_sound 
      action: toggle    
      haptic: light 

  label:   
    show_state: false 
    show_icon: false
    state: *button_state  
    styles: 
      name:   
        [top: 25%, left: 2%, position: absolute]  
      card: 
        [font-family: Sf Display, letter-spacing: 1.15px, text-rendering: optimizeLegibility, font-weight: 600, color: 'rgba(255, 255, 255, 0.8)', font-size: 20px, 
        background-color: 'rgba(0, 0, 0, 0)', border-radius: 10px, box-shadow: none, transition: none, height: 37px]
      custom_fields:
        loading:
          [filter: "[[[ return entity.state === 'off' ? 'invert(1)' : 'none'; ]]]", 
           top: 3%, left: 60%, width: 85px, position: absolute, opacity: 0.6]
    tap_action:
    #   ui_sound: *ui_sound 
      haptic: light
      
  icon_action:
    color: '#9da0a2'
    styles:
      card:
        [background: '#FFFFFF10', border-radius: 0.6em, box-shadow: none, 
        transition: none, width: 4em, height: 3.7em]

  name_action:
    styles:
      name:
        [display: flex, align-items: center, justify-content: center, margin-top: 0.5px]
      card:
        [background: '#FFFFFF10', color: '#9da0a2', border-radius: 0.6em, box-shadow: none, 
        transition: none, width: 100%, padding: 1em 1.4em 1em 1.2em, font-size: 1.06em, 
        font-weight: 500, letter-spacing: 0.015em]
    style: '#name > ha-icon {width: 1.4em; margin-right: 0.3em; }'

  media:
    aspect_ratio: 1/1
    show_state: true
    show_icon: false
    state_display: >
      [[[ if (entity.attributes.media_title === 'Nothing playing' || entity.attributes.media_title === 'No title' && entity.state === 'paused' ) { return 'Ninguém Assistindo'; }
      if (entity.attributes.media_title === 'No title' && entity.state === 'playing') { return 'Sem título'; }
      else { return entity.attributes.media_title; } ]]] 
    custom_fields:
      media_image: >
        <svg viewBox="0 0 50 50" />
      blur: >
        [[[ if (entity.attributes.entity_picture != null) {
        return '<svg viewBox="0 0 50 50" />'; } ]]]
      overlay: >
        [[[ if (entity.state != 'off' && entity.state != 'idle' && entity.state != 'standby' && entity.state != 'unavailable') {
        return '<svg viewBox="0 0 50 50" />'; } ]]]
      play_pause: >
        [[[ const style = `<style>.scale-up { animation: scale-up 0.3s; cubic-bezier(.05,.5,.3,1) 1; transform-origin: center center; }
        @keyframes scale-up { 0% { opacity: 0; transform: scale(0); } 100% { opacity: 1; transform: scale(1); } }</style>`;
        if (entity.state === 'playing') { return `<svg viewBox="0 0 166 166">${style}<path class="scale-up" d="M0 0h59.9v166H0zm106.1 0H166v166h-59.9z"/></svg>`; }
        if (entity.state === 'paused') { return `<svg viewBox="0 0 166 166">${style}<path class="scale-up" d="M0 0l166 83L0 166z"/></svg>`; } ]]]
    tap_action: &media_tap_action
    #   sound: >
    #     [[[ if (states['switch.fullykiosk_screensaver'].state === 'off') {
    #     if (entity.state != 'off' || entity.state != 'idle' || entity.state != 'standby')
    #     hass.callService('media_player', 'play_media', {entity_id: 'media_player.tablet', media_content_id: '/local/sound/popup.m4a', media_content_type: 'music'}); } ]]]
      action: >
        [[[ if (entity.state === 'off' || entity.state === 'idle' || entity.state === 'standby') {
        return 'none'; } else { return 'call-service'; } ]]]
      service: media_player.media_play_pause
      service_data:
        entity_id: '[[[ return entity.entity_id ]]]'
      haptic: light 
    styles: 
      custom_fields:
        media_image: 
          [background-image:
          "[[[ return entity.attributes.entity_picture == null ? 'linear-gradient(0deg, rgba(115, 115, 115, 0.2) 0%, rgba(115, 115, 115, 0.2) 100%)' 
          : 'linear-gradient(0deg, rgba(13,17,19,0.9) 0%, rgba(13,17,19,0) 50%), url(' + entity.attributes.entity_picture + ')'; ]]]", 
          background-size: cover, top: 0%, left: 0%, width: 100%, position: absolute]
        blur:
          [background-image:
          "[[[ return entity.attributes.entity_picture == null ? 'none' : 'url(' + entity.attributes.entity_picture + ')'; ]]]", 
          background-size: cover, top: 0%, left: 0%, width: 100%, filter: blur(4px), clip-path: inset(70% 0 0 0), position: absolute]
        overlay:
          [background:
          "[[[ return entity.attributes.entity_picture == null ? 'rgba(255, 255, 255, 0.8)' : 'rgba(0, 0, 0, 0.4)'; ]]]", 
          background-size: cover, z-index: 0, top: 70%, left: 0%, width: 100%, opacity: 1, position: absolute]
        play_pause:
          [filter: 
          "[[[ return entity.attributes.entity_picture == null ? 'none' : 'drop-shadow(0 0 30px rgba(0,0,0,0.7))'; ]]]", 
          fill: '#dedede', top: 0, right: 0, bottom: 0, left: 0, margin: auto, width: 21%, height: 21%, position: absolute]
        icon:
          [fill:
          "[[[ if (entity.state === 'off' || entity.state === 'idle' || entity.state === 'standby' || entity.state === 'unavailable') return '#9da0a2'; 
          else return 'rgba(255, 255, 255, 0.8)'; ]]]", 
          top: 5.35%, left: 5.35%, width: 68px, position: absolute]
      name:
        [top: 70.8%, left: 5.3%, position: absolute, line-height: 46px, z-index: 10]    
      state:
        [top: 79.5%, left: 5.3%, position: absolute, line-height: 46px, z-index: 10, 
        white-space: nowrap, overflow: hidden, text-overflow: ellipsis, max-width: 90%, color: 'rgba(255, 255, 0, 0.8)']
      card:    
        [<<: *button_styles_card, background-color: none, 
        color: &media_font_color "[[[ if (entity.state === 'off' || entity.state === 'idle' || entity.state === 'standby' || entity.state === 'unavailable') { return 'rgba(255, 255, 255, 0.3)'; }
        if ((entity.state != 'off' && entity.state != 'idle' && entity.state != 'standby') && (entity.attributes.entity_picture == null)) {
        return 'rgba(0, 0, 0, 0.6)'; } else { return '#efefef'; } ]]]", 
        text-shadow: &media_text_shadow "[[[ if (entity.attributes.entity_picture == null) return 'none'; 
        else return '1px 1px 5px rgba(18, 22, 23, 0.9)' ; ]]]"]

  media_small:
    aspect_ratio: 1/1
    show_state: true
    show_icon: false
    tap_action: *media_tap_action
    styles:
      custom_fields:
        icon:
          [opacity: "[[[ return entity.attributes.entity_picture == null ? 1 : 0; ]]]", 
          top: 11.5%, left: 11.5%, width: 67px, position: absolute, fill: '#9da0a2']
      name: *button_styles_name
      state: *button_styles_state
      card:
        [<<: *button_styles_card, color: *media_font_color, text-shadow: *media_text_shadow, 
        background-color: none, background-size: cover,
        background-image: 
        "[[[ if (entity.state === 'off' || entity.state === 'idle' || entity.state === 'standby' || entity.state === 'unavailable') {
        return 'linear-gradient(0deg, rgba(115, 115, 115, 0.2) 0%, rgba(115, 115, 115, 0.2) 100%)'; }
        if ((entity.state != 'off' && entity.state != 'idle' && entity.state != 'standby') && (entity.attributes.entity_picture == null)) {
        return 'linear-gradient(0deg, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.8) 100%)'; }
        else { return 'linear-gradient(0deg, rgba(0,0,0,.8) 0%, rgba(0,0,0,0) 100%), url(' + entity.attributes.entity_picture + ')'; } ]]]"]


views:    
  - title: Home   
    icon: mdi:home-assistant     

    badges:
      - entity: binary_sensor.home_assistant_versions_update_available
        name: Atualização
      - entity: device_tracker.life360_fernanda_batista   
        name: Fernanda
      - entity: device_tracker.iphone_de_cadu
        name: Cadu
      - entity: sun.sun
      - entity: sensor.nascimento_helena
        name: Niver Helena
      - entity: binary_sensor.1000e72240_2
        name: Porta Sacada
      - entity: sensor.sensor_luminosidade_illuminance_lux
        name: luminosidade
     
     
     
    cards:  
    
        
#      - type: iframe
#        url: >-
#          http://raspberrypi.local:8123/api/hassio_ingress/RrzKq2A6h1AcJhC0luVMSElBPWheOuOybIryjqT9ZiE/picture/1/frame/
#        aspect_ratio: 60%

 
      - cards:
          - entity: sensor.saudacao_dia
            size: 100%
            show_state: true
            name: ' '
            show_icon: false
            styles:
               card:
                 - border-radius: 10px
                 - height: 100px
               name:
                 - font-weight: 500
                 - font-size: 8px
               state:
                 - font-weight: 500
                 - font-size: 18px
            type: 'custom:button-card'
        type: horizontal-stack
    

      - cards:
          - cards:
              - type: "custom:button-card"
                color_type: card
                entity: sensor.total_luzes_ligadas
                name: Luze(s) Ligada(s)
                style: |
                  ha-card {
                    border-radius: 12px;
                    overflow: hidden;
                  }
                styles: 
                  card:     
                    - height: 150px  
                state:
                  - value: 5 
                    operator: '>'
                    color: red
                    #icon: mdi:alert
                    styles:
                      card:
                        - animation: blink 2s ease infinite
                  - operator: default
                    color: green
    

              - entity: input_boolean.visitas
                icon: 'mdi:human-greeting'
                size: 100% 
                name: Temos Visitas
                show_state: true
                # tap_action:
                #   action: call-service
                #   service: script.inicia_timer_mama_helena
                state:
                  - styles:
                      card:
                        - filter: opacity(85%)
                      state:
                        - color: '#616161'
                    value: 'idle' 
                  - styles:
                      state:
                        - color: var(--secondary-text-color)
                      icon:
                        - color: '#F9C536'                
                    value: 'active'
                styles:
                   card:
                     - border-radius: 10px
                     - height: 150px
                   name:
                     - font-weight: 500
                     - font-size: 14px
                   state:
                     - font-size: 11px
                type: 'custom:button-card' 
            type: horizontal-stack
             
            #   - entity: timer.mama_helena
            #     icon: 'mdi:baby-bottle-outline'
            #     size: 100%
            #     name: Mamá da Helena
            #     show_state: true
            #     tap_action:
            #       action: call-service
            #       service: script.inicia_timer_mama_helena
            #     state:
            #       - styles:
            #           card:
            #             - filter: opacity(85%)
            #           state:
            #             - color: '#616161'
            #         value: 'idle'
            #       - styles:
            #           state:
            #             - color: var(--secondary-text-color)
            #           icon:
            #             - color: '#F9C536'                
            #         value: 'active'
            #     styles:
            #       card:
            #          - border-radius: 10px
            #          - height: 150px
            #       name:
            #          - font-weight: 500
            #          - font-size: 14px
            #       state:
            #          - font-size: 11px
            #     type: 'custom:button-card' 
            # type: horizontal-stack
    
        #   - cards:        
        #       - entities:
        #           - entity: sensor.st_2
        #             name: "Sensação Térmica Casal"
        #             icon: mdi:temperature
        #           - entity: sensor.brazil_coronavirus_confirmed
        #             name: "Confirmados"
        #             icon: mdi:bacteria
        #           - entity: sensor.brazil_coronavirus_recovered
        #             name: "Recuperados"
        #             icon: mdi:one-up
        #           - entity: sensor.brazil_coronavirus_deaths
        #             name: "Mortes"
        #             icon: mdi:emoticon-dead
        #         title: "Casos Corona Vírus - Brasil"
        #         type: glance
        #         style: |
        #           ha-card {
        #             border-radius: 12px;
        #             overflow: hidden;
        #           }
        #     type: horizontal-stack
     
     
          - cards:
          
              - color_thresholds:
                  - color: '#E65100'
                    value: 30
                  - color: '#4CAF50'
                    value: 20
                  - color: '#03A9F4'
                    value: 10
                entities:
                  - entity: sensor.sambanas_temperature_current_dev_sdb_sat
                    index: 0
                font_size: 85
                height: 200
                hours_to_show: 24
                line_width: 2
                name: Temp. SSD NAS
                show:
                  extrema: true
                  fill: true
                type: 'custom:mini-graph-card'
                
              - color_thresholds:
                  - color: '#E65100'
                    value: 30
                  - color: '#4CAF50'
                    value: 20
                  - color: '#03A9F4'
                    value: 10
                entities:
                  - entity: sensor.st_casal
                    index: 0
                font_size: 85
                height: 200
                hours_to_show: 24
                line_width: 2
                name: Sens. Térmica Casal
                show:
                  extrema: true
                  fill: true
                type: 'custom:mini-graph-card'
                
              - color_thresholds:
                  - color: '#E65100'
                    value: 30
                  - color: '#4CAF50'
                    value: 20
                  - color: '#03A9F4'
                    value: 10
                entities:
                  - entity: sensor.st_2
                    index: 0
                font_size: 85
                height: 200
                hours_to_show: 24
                line_width: 2
                name: Sens. Térmica Escritório
                show:
                  extrema: true
                  fill: true
                type: 'custom:mini-graph-card'
            type: horizontal-stack   
                
          - cards:      
              - type: alarm-panel
                entity: alarm_control_panel.home_alarm
                name: Alarme Home
                states:
                  - arm_home
                  - arm_away
                  - arm_night
                  - arm_vacation
                style: |
                  ha-card {
                    border-radius: 12px;
                    overflow: hidden;
                  }
                  
            type: horizontal-stack
            
          - cards:
              - entities:
                  - entity: sensor.fernanda_bateria   
                  - entity: sensor.cadu_bateria
                type: entities
                style: |
                  ha-card {
                    border-radius: 12px;
                    overflow: hidden;
                  }
        
              - entities:
                  - entity: device_tracker.iphone_de_cadu
                    name: Cadu
                  - entity: device_tracker.iphone_de_fernanda_patricia  
                    name: Fernanda
                type: entities
                style: |
                  ha-card {
                    border-radius: 12px;
                    overflow: hidden;
                  } 
            type: horizontal-stack  
        type: vertical-stack 
       
      - cards:  
          - cards:          
              - type: entities
                entities:
                  - entity: sensor.echo_show_de_cadu_next_alarm
                    name: Próximo Alarme Sala
                  - entity: sensor.echo_show_de_cadu_next_timer
                    name: Próximo Timer Sala
                  - entity: sensor.echo_show_de_cadu_next_reminder
                    name: Próximo Lembrete Sala
                  - type: section 
                  - entity: sensor.echo_studio_de_carlos_next_alarm
                    name: Próximo Alarme Studio
                  - entity: sensor.echo_studio_de_carlos_next_timer
                    name: Próximo Timer Studio
                  - entity: sensor.echo_studio_de_carlos_next_reminder
                    name: Próximo Lembrete Studio
                title: Alarmes/Timers/Lembretes Alexa
                style: |
                  ha-card {
                    border-radius: 12px;
                    overflow: hidden;
                  }
                  
            type: horizontal-stack

          - cards:
              - entity: binary_sensor.1000e72240_1
                icon: 'mdi:door-closed'
                size: 100%
                name: Porta Sala
                show_state: true
                state:
                  - value: 'on'
                    styles:
                      state:
                        - color: var(--secondary-text-color) 
                      icon:
                        - color: '#F9C536' 
                    icon: 'mdi:door-open'
                  - value: 'off'
                    styles:
                      state:
                        - color: var(--secondary-text-color)
                      icon:
                        - color: '#FFFFFF'   
                    icon: 'mdi:door-closed'
                styles:
                   card:
                     - border-radius: 10px
                     - height: 150px
                   name:
                     - font-weight: 500
                     - font-size: 14px
                   state:
                     - font-size: 11px
                type: 'custom:button-card' 
                
              - entity: binary_sensor.1000e72240_2
                icon: 'mdi:door-closed'
                size: 100%
                name: Porta Sacada
                show_state: true
                state:
                  - value: 'on'
                    styles:
                      state:
                        - color: var(--secondary-text-color) 
                      icon:
                        - color: '#F9C536'  
                    icon: 'mdi:door-open'
                    
                  - value: 'off'
                    styles:
                      state:
                        - color: var(--secondary-text-color)
                      icon:
                        - color: '#FFFFFF' 
                    icon: 'mdi:door-closed'
                styles:
                   card:
                     - border-radius: 10px
                     - height: 150px
                   name:
                     - font-weight: 500
                     - font-size: 14px
                   state:
                     - font-size: 11px
                type: 'custom:button-card'
                
              - entity: binary_sensor.1000e72240_6
                icon: 'mdi:door-closed'
                size: 100%
                name: BWC Social
                show_state: true 
                state:
                  - value: 'on'
                    styles:
                      state:
                        - color: var(--secondary-text-color) 
                      icon:
                        - color: '#F9C536' 
                    icon: 'mdi:door-open'
                  - value: 'off'
                    styles:
                      state:
                        - color: var(--secondary-text-color)
                      icon:
                        - color: '#FFFFFF'   
                    icon: 'mdi:door-closed'
                styles:
                   card:
                     - border-radius: 10px
                     - height: 150px
                   name:
                     - font-weight: 500
                     - font-size: 14px
                   state:
                     - font-size: 11px
                type: 'custom:button-card' 
                
              - entity: binary_sensor.1000e72240_15
                icon: 'mdi:door-closed'
                size: 100%
                name: BWC Casal
                show_state: true
                state:
                  - value: 'on'
                    styles:
                      state:
                        - color: var(--secondary-text-color) 
                      icon:
                        - color: '#F9C536' 
                    icon: 'mdi:door-open'
                  - value: 'off'
                    styles:
                      state:
                        - color: var(--secondary-text-color)
                      icon:
                        - color: '#FFFFFF'   
                    icon: 'mdi:door-closed'
                styles:
                   card:
                     - border-radius: 10px
                     - height: 150px
                   name:
                     - font-weight: 500
                     - font-size: 14px
                   state:
                     - font-size: 11px
                type: 'custom:button-card' 
                
            type: horizontal-stack            
          - cards:          
            #   - type: 'custom:calendar-card'
              - type: 'calendar'
                initial_view: dayGridDay
                # dateBottomFormat: ddd
                # dateTopFormat: DD
                entities:
                  - calendar.trabalho
                  - calendar.pessoal
                  - calendar.calendario
                  - calendar.family
                  - calendar.valsesia_gmail_com
                  - calendar.feriados_no_brazil
                  - calendar.contatos
                # hideHeader: false 
                # hideTime: false
                # highlightToday: true
                # numberOfDays: '2'
                # progressBar: false
                # showEventOrigin: false
                # showLocation: false
                # showLocationIcon: false  
                # showMultiDay: false
                # startFromToday: false
                # timeFormat: 'HH:mm'
                # finishedEventFilter: grayscale(100%)
                # finishedEventOpacity: 0.6
                title: Compromissos/Aniversários
                style: |
                  ha-card {
                    border-radius: 12px;
                    overflow: hidden;
                  }
            type: horizontal-stack
        #   - cards:            
        #       - type: 'calendar'
        #         initial_view: dayGridDay
        #         # dateBottomFormat: ddd
        #         # dateTopFormat: DD
        #         entities:
        #           - calendar.contatos
        #         # hideHeader: false
        #         # hideTime: false
        #         # highlightToday: true
        #         # numberOfDays: '30'
        #         # progressBar: false
        #         # showEventOrigin: false
        #         # showLocation: false
        #         # showLocationIcon: false
        #         # showMultiDay: true
        #         # startFromToday: true
        #         # timeFormat: 'HH:mm'
        #         title: Aniversários
        #         style: |
        #           ha-card {
        #             border-radius: 12px;
        #             overflow: hidden;
        #           }
        #     type: horizontal-stack



                
        type: vertical-stack            

      - cards:            
        #   - cards:        
        #       - type: custom:weather-card
        #         entity: weather.valsesia_home
        #         icons: "/local/custom-lovelace/weather-card/icons/"
        #         style: |
        #           ha-card {
        #             border-radius: 12px;
        #             overflow: hidden;
        #           }
        #     type: horizontal-stack
            
          - cards:
              - type: custom:mini-graph-card 
                entities:
                  - sensor.memory_free
                style: |
                  ha-card {
                    border-radius: 12px;
                    overflow: hidden;    
                  }
            type: horizontal-stack

          - entities:
            - entity: cover.zemismart_zigbee_curtain_motor_curtain
              name: Cortina
              state: true
              secondary_info: position
            type: entities
          - entities:
              - color: '#76FF03'
                entity: sensor.speedtest_download
                index: 0
                show_legend: false
                show_state: true
              - color: '#0288D1'
                entity: sensor.speedtest_upload
                index: 1
                show_legend: false
                show_state: true
            font_size: 80
            height: 120
            hours_to_show: 2
            icon: 'mdi:wan'
            line_width: 1
            name: Internet - WAN
            points_per_hour: 30
            show:
              extrema: true
              fill: true
            type: 'custom:mini-graph-card'
        #   - cards:
        #       - color_thresholds:
        #           - color: '#E65100'
        #             value: 30
        #           - color: '#4CAF50'
        #             value: 20
        #           - color: '#03A9F4'
        #             value: 10
        #         entities:
        #           - entity: sensor.dark_sky_temperature
        #             index: 0
        #         font_size: 85
        #         height: 200
        #         hours_to_show: 36
        #         line_width: 2
        #         name: Temperatura Externa
        #         show:
        #           extrema: true
        #           fill: true
        #         type: 'custom:mini-graph-card'
        #       - color_thresholds:
        #           - color: '#29B6F6'
        #             value: 90
        #           - color: '#00897B'
        #             value: 70
        #           - color: '#FFAB00'
        #             value: 50
        #         entities:
        #           - entity: sensor.dark_sky_humidity
        #             index: 0
        #         font_size: 85
        #         height: 200
        #         hours_to_show: 36
        #         line_width: 2
        #         name: Umidade Externa
        #         show:
        #           extrema: true
        #           fill: true
        #         type: 'custom:mini-graph-card'
        #     type: horizontal-stack      

          - cards:
              - type: entities
                entities:
                  - entity: sensor.custo_mes_frigobar
                    name: "Frigobar - Mês"
                    icon: mdi:fridge-top
                  - entity: sensor.custo_mes_geladeira
                    name: "Geladeira - Mês"
                    icon: mdi:fridge-outline
                  - entity: sensor.custo_mes_maquina_lavar
                    name: "Máquina de Lavar - Mês"
                    icon: mdi:washing-machine
                  - entity: sensor.custo_mes_servidor
                    name: "TV Sala - Mês"
                    icon: mdi:television-classic
                  - entity: sensor.custo_mes_computador
                    name: "Computador - Mês"
                    icon: mdi:monitor
                #   - entity: sensor.custo_mes_proxmox
                #     name: "Servidor - Mês"
                #     icon: mdi:server
                  - entity: sensor.custo_mes_total
                    name: "Total - Mês"
                    icon: mdi:currency-usd
                title: "Custo Energia - Mês"
                style: |
                  ha-card {
                    border-radius: 12px;
                    overflow: hidden;
                  }
            type: horizontal-stack
        type: vertical-stack        


 

    #   - cards:    
    #       - cards:
    #           - entity: sensor.alarme_total
    #             icon: 'mdi:alarm-multiple'
    #             name: Alarme Total
    #             show_state: true
    #             tap_action:
    #               action: call-service
    #               service: script.ativa_desativa_alarme_total
    #             state:
    #              - styles:
    #                  card:
    #                   - filter: opacity(85%)
    #                  state:
    #                   - color: '#616161'
    #                  value: 'off'
    #              - styles:
    #                  card:  
    #                   - filter: opacity(40%)
    #                   - color: '#5D4037'
    #                  value: unavailable
    #              - styles:
    #                  state:
    #                   - color: var(--secondary-text-color)
    #                  value: 'on'
    #             styles:
    #               card:  
    #                  - border-radius: 10px
    #                  - height: 100px
    #               name:
    #                  - font-weight: 500
    #                  - font-size: 14px
    #               state:
    #                  - font-size: 11px
    #             type: 'custom:button-card' 
    #         type: horizontal-stack
    #       - cards:
    #           - entity: input_boolean.alarme_sala
    #             icon: 'mdi:alarm-light'
    #             name: Alarme Sala
    #             show_state: true 
    #             state:
    #              - styles:
    #                  card:
    #                   - filter: opacity(85%)
    #                  state:
    #                   - color: '#616161'
    #                  value: 'off'
    #              - styles:
    #                  card:
    #                   - filter: opacity(40%)
    #                   - color: '#5D4037'
    #                  value: unavailable
    #              - styles:
    #                  state:
    #                   - color: var(--secondary-text-color)
    #                  value: 'on'
    #             styles:
    #               card:
    #                  - border-radius: 10px
    #                  - height: 100px
    #               name:
    #                  - font-weight: 500
    #                  - font-size: 14px
    #               state:
    #                  - font-size: 11px
    #             type: 'custom:button-card'
    

        #       - entity: input_boolean.alarme_sacada
        #         icon: 'mdi:alarm-light'
        #         name: Alarme Sacada
        #         show_state: true
        #         state:
        #          - styles:
        #              card:
        #               - filter: opacity(85%)
        #              state:
        #               - color: '#616161'
        #              value: 'off'
        #          - styles:
        #              card:
        #               - filter: opacity(40%)
        #               - color: '#5D4037'
        #              value: unavailable
        #          - styles:
        #              state:
        #               - color: var(--secondary-text-color)
        #              value: 'on'
        #         styles:
        #           card:
        #              - border-radius: 10px
        #              - height: 100px
        #           name:
        #              - font-weight: 500
        #              - font-size: 14px
        #           state:
        #              - font-size: 11px
        #         type: 'custom:button-card' 
        #     type: horizontal-stack
        # type: vertical-stack


    #   - cards:
    #       - entities:
    #           - entity: sensor.hp_deskjet_3630_series
    #             name: HP Deskjet 3630
    #           - entity: sensor.hp_deskjet_3630_series_black_ink
    #             name: Tinta Preta
    #             color: black
    #           - entity: sensor.hp_deskjet_3630_series_tri_color_ink
    #             name: Tinta Colorida
    #             color: red
    #         show:
    #           graph: bar
    #         name: HP Deskjet 3630
    #         hours_to_show: 1
    #         points_per_hour: 1
    #         upper_bound: 100
    #         lower_bound: 0
    #         type: custom:mini-graph-card
    #         style: |
    #           ha-card {
    #             border-radius: 12px;
    #             overflow: hidden;
    #           }
    #     type: horizontal-stack

       
    #   - entities: 
    #     - entity: input_boolean.parar_alarme
    #       name: Parar Alarme
    #       icon: 'mdi:alarm-off'  
    #     show_header_toggle: false
    #     show_title: false
    #     state_color: true
    #     type: entities

##### CAMERAAAAA #####    
    #   - cards:        
    #       - type: picture-glance
    #         title: Sala de Jantar
    #         style: |
    #           ha-card {
    #             border-radius: 12px;
    #             overflow: hidden;
    #           }
    #         entities:
    #           - entity: script.fotos_intelbras 
    #             icon: 'mdi:image'
    #             tap_action: 
    #               action: call-service
    #               service: script.fotos_intelbras
    #           - entity: script.video_sala
    #             icon: 'mdi:video'
    #             tap_action: 
    #               action: call-service
    #               service: script.video_sala
    #           - entity: script.iniciar_cam_cromecast
    #             icon: 'mdi:google-chrome'
    #             tap_action: 
    #               action: call-service
    #               service: script.iniciar_cam_cromecast
    #           - entity: script.parar_cam_cromecast
    #             icon: 'mdi:stop-circle'
    #             tap_action: 
    #               action: call-service
    #               service: script.parar_cam_cromecast 
    #           - entity: switch.intcozinha1
    #           - entity: switch.intsalajantar
    #         camera_image: camera.camera_intelbras
    #     type: horizontal-stack
     


        

    #   - type: entities 
    #     entities:
    #       - entity: sensor.custo_dia_tv_casal
    #         name: "TV Casal - Dia"
    #         icon: mdi:television-classic
    #       - entity: sensor.custo_dia_geladeira
    #         name: "Geladeira - Dia"
    #         icon: mdi:fridge-outline
    #       - entity: sensor.custo_dia_maquina_lavar
    #         name: "Máquina de Lavar - Dia"
    #         icon: mdi:washing-machine
    #       - entity: sensor.custo_dia_servidor
    #         name: "TV Sala - Dia"
    #         icon: mdi:television-classic
    #       - entity: sensor.custo_dia_computador
    #         name: "Computador - Dia"
    #         icon: mdi:desktop-mac
    #       - entity: sensor.custo_dia_total
    #         name: "Total - Dia"
    #         icon: mdi:currency-usd 
    #     title: "Custo Energia - Dia"
    #   - type: entities 
    #     entities:
    #       - entity: sensor.custo_ontem_tv_casal 
    #         name: "TV Casal - Ontem"
    #         icon: mdi:television-classic
    #       - entity: sensor.custo_ontem_geladeira
    #         name: "Geladeira - Ontem"
    #         icon: mdi:fridge-outline
    #       - entity: sensor.custo_ontem_maquina_lavar
    #         name: "Máquina de Lavar - Ontem"
    #         icon: mdi:washing-machine
    #       - entity: sensor.custo_ontem_servidor
    #         name: "TV Sala - Ontem"
    #         icon: mdi:television-classic
    #       - entity: sensor.custo_ontem_computador
    #         name: "Computador - Ontem"  
    #         icon: mdi:desktop-mac
    #       - entity: sensor.custo_ontem_total
    #         name: "Total - Ontem" 
    #         icon: mdi:currency-usd
    #     title: "Custo Energia - Ontem"
    #   - type: entities 
    #     entities:    
    #       - entity: sensor.custo_semana_tv_casal 
    #         name: "TV Casal - Semana" 
    #         icon: mdi:television-classic 
    #       - entity: sensor.custo_semana_geladeira
    #         name: "Geladeira - Semana"
    #         icon: mdi:fridge-outline
    #       - entity: sensor.custo_semana_maquina_lavar 
    #         name: "Máquina de Lavar - Semana"
    #         icon: mdi:washing-machine
    #       - entity: sensor.custo_semana_servidor
    #         name: "TV Sala - Semana"  
    #         icon: mdi:television-classic
    #       - entity: sensor.custo_semana_computador
    #         name: "Computador - Semana"
    #         icon: mdi:desktop-mac
    #       - entity: sensor.custo_semana_total
    #         name: "Total - Semana"
    #         icon: mdi:currency-usd
    #     title: "Custo Energia - Semana"  

    #   - type: entities    
    #     entities:
    #       - entity: sensor.nascimento_helena
    #         name: "Aniversário Helena"
    #       - entity: sensor.aniversario_fernanda
    #         name: "Aniversário Fernanda" 

 
    path: home               
 

  - !include lovelace/home.yaml   
#   - !include lovelace/localiza.yaml 
  - !include lovelace/cameras.yaml 
  - !include lovelace/multimidia.yaml 
  - !include lovelace/programacao.yaml   
  - !include lovelace/dispositivos1.yaml
  - !include lovelace/ilumina.yaml
  - !include lovelace/despertador.yaml
  - !include lovelace/energia.yaml
  - !include lovelace/monitora.yaml
  - !include lovelace/controles_tv.yaml
  - !include lovelace/climatizacao.yaml
  - !include lovelace/raspberry.yaml      
  - !include lovelace/clima.yaml  